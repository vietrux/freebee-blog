---
import '../styles/global.css';
import BrutalistLayout from './brutalist.astro';

const { content } = Astro.props;
const { Content } = await content.render();
---

<BrutalistLayout title={content.data.title} author={content.data.author}>
	<!-- Breaking News Marquee -->
	<div style="background: var(--brutal-black); padding: 0;">
		<div class="relative flex w-full overflow-x-hidden border-b-2 border-t-2 border-border bg-secondary-background text-foreground font-base">
			<div class="animate-marquee whitespace-nowrap py-12">
				<span class="mx-4 text-4xl">BREAKING: {content.data.title}</span>
				<span class="mx-4 text-4xl">BY {content.data.author}</span>
				<span class="mx-4 text-4xl">{content.data.category}</span>
			</div>
			<div class="absolute top-0 animate-marquee2 whitespace-nowrap py-12">
				<span class="mx-4 text-4xl">BREAKING: {content.data.title}</span>
				<span class="mx-4 text-4xl">BY {content.data.author}</span>
				<span class="mx-4 text-4xl">{content.data.category}</span>
			</div>
		</div>
	</div>

	<!-- Article Content -->
	<article style="max-width: 800px; margin: 0 auto; padding: 40px 20px;">
		<!-- Article Header -->
		<div class={`news-card ${content.data.color}`} style="margin-bottom: 40px; padding: 30px;">
			<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
				<div class="brutal-text" style="font-size: 1rem; color: var(--brutal-black);">
					{content.data.category}
				</div>
				<div style="font-size: 0.9rem; font-weight: 700;">
					{content.data.date.toLocaleDateString('en-US', { 
						year: 'numeric', 
						month: 'long', 
						day: 'numeric' 
					})}
				</div>
			</div>
			
			<h1 class="brutal-text" style="font-size: 2.5rem; margin-bottom: 20px; line-height: 1.1;">
				{content.data.title}
			</h1>
			
			<div style="font-size: 1.2rem; line-height: 1.4; margin-bottom: 20px;">
				{content.data.excerpt}
			</div>
			
			<div style="display: flex; justify-content: space-between; align-items: center;">
				<div class="author-badge">
					BY {content.data.author}
				</div>
				{content.data.tags && (
					<div style="font-size: 0.8rem; font-weight: 700;">
						{content.data.tags.map(tag => `#${tag}`).join(' ')}
					</div>
				)}
			</div>
		</div>

		<!-- Article Body -->
		<div class="astro-content" style="background: #0d1117; color: #c9d1d9; padding: 20px; border: 1px solid #30363d;">
			<Content />
		</div>

		<!-- Navigation -->
		<div style="display: flex; justify-content: space-between; margin-top: 40px;">
			<a href="/news" class="brutal-button" style="text-decoration: none; display: inline-block;">
				← BACK TO NEWS
			</a>
			<a href="/" class="brutal-button" style="text-decoration: none; display: inline-block; background: var(--brutal-blue); color: var(--brutal-white); border-color: var(--brutal-blue);">
				HOME →
			</a>
		</div>
	</article>
</BrutalistLayout>
